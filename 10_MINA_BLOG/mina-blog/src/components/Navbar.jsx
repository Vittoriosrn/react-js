import styles from './Navbar.module.css'

import { NavLink } from "react-router-dom"

import { useAuthentication } from "../hooks/useAuthentication"

import { useAuthValue } from "../context/AuthContext"

const Navbar = () => {
    const { user } = useAuthValue()
    const { logout } = useAuthentication()

return (
    <nav className={styles.nav}> 
        <NavLink to='/' className={styles.logo}>
            Mina<span className={styles.blogLogo}>Blog</span>
        </NavLink>
        <ul>
            <li>
                <NavLink className={link => (link.isActive ? `${styles.link} ${styles.active}`  : styles.link) } to='/'>                
                    PÃ¡gina Inicial
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="30" viewBox="0 0 26 28" fill="none">
                        <path d="M3.98419 27.0385C2.32734 27.0385 0.984192 25.6953 0.984192 24.0385V10.5117C0.984192 9.56917 1.42716 8.68142 2.18026 8.11466L11.1961 1.32971C12.2643 0.525773 13.7357 0.525771 14.8039 1.32971L23.8197 8.11467C24.5728 8.68143 25.0158 9.56917 25.0158 10.5117V24.0385C25.0158 25.6953 23.6727 27.0385 22.0158 27.0385H19.0502C17.3933 27.0385 16.0502 25.6953 16.0502 24.0385V19.3166C16.0502 17.6598 14.707 16.3167 13.0502 16.3167H12.9498C11.293 16.3167 9.94982 17.6598 9.94982 19.3167V24.0385C9.94982 25.6953 8.60667 27.0385 6.94982 27.0385H3.98419Z" 
                        fill="#3A3B3C"/>
                    </svg>
                    <div className={styles.activeBar}></div>
                </NavLink>
            </li>
            {user && (
                <>
                    <li>
                        <NavLink className={link => (link.isActive ? `${styles.link} ${styles.active}`  : styles.link) } to='/posts/create'>                
                            Novo Post
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="30" viewBox="0 0 31 31" fill="none">
                                <path d="M3.25421 30.8945C2.38252 30.8945 1.64468 30.5925 1.0407 29.9886C0.436743 29.3846 0.134766 28.6467 0.134766 27.775V4.67776C0.134766 3.80606 0.436743 3.06822 1.0407 2.46424C1.64468 1.86026 2.38252 1.55826 3.25421 1.55826H18.2542V9.32373H21.7055V12.7751H29.471V27.775C29.471 28.6467 29.169 29.3846 28.565 29.9886C27.961 30.5925 27.2232 30.8945 26.3515 30.8945H3.25421ZM5.74319 24.4233H23.9953L18.3205 16.857L13.4754 23.1622L10.0241 18.7486L5.74319 24.4233ZM24.095 10.3856V6.93428H20.6436V4.34587H24.095V0.894531H26.6834V4.34587H30.1347V6.93428H26.6834V10.3856H24.095Z" 
                                fill="#3A3B3C"/>
                            </svg>
                            <div className={styles.activeBar}></div>
                        </NavLink>
                    </li>
                    <li>
                        <NavLink className={link => (link.isActive ? `${styles.link} ${styles.active}` : styles.link)} to='/dashboard'>
                            Dashboard
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                                <path d="M3 13.3333C1.34314 13.3333 0 11.9902 0 10.3333V3C0 1.34314 1.34315 0 3 0H10.3333C11.9902 0 13.3333 1.34315 13.3333 3V10.3333C13.3333 11.9902 11.9902 13.3333 10.3333 13.3333H3ZM3 30C1.34314 30 0 28.6569 0 27V19.6667C0 18.0098 1.34315 16.6667 3 16.6667H10.3333C11.9902 16.6667 13.3333 18.0098 13.3333 19.6667V27C13.3333 28.6569 11.9902 30 10.3333 30H3ZM19.6667 13.3333C18.0098 13.3333 16.6667 11.9902 16.6667 10.3333V3C16.6667 1.34314 18.0098 0 19.6667 0H27C28.6569 0 30 1.34315 30 3V10.3333C30 11.9902 28.6569 13.3333 27 13.3333H19.6667ZM19.6667 30C18.0098 30 16.6667 28.6569 16.6667 27V19.6667C16.6667 18.0098 18.0098 16.6667 19.6667 16.6667H27C28.6569 16.6667 30 18.0098 30 19.6667V27C30 28.6569 28.6569 30 27 30H19.6667ZM3.33333 7C3.33333 8.65686 4.67648 10 6.33333 10H7C8.65686 10 10 8.65685 10 7V6.33333C10 4.67648 8.65685 3.33333 7 3.33333H6.33333C4.67648 3.33333 3.33333 4.67648 3.33333 6.33333V7ZM20 7C20 8.65686 21.3431 10 23 10H23.6667C25.3235 10 26.6667 8.65685 26.6667 7V6.33333C26.6667 4.67648 25.3235 3.33333 23.6667 3.33333H23C21.3431 3.33333 20 4.67648 20 6.33333V7ZM20 23.6667C20 25.3235 21.3431 26.6667 23 26.6667H23.6667C25.3235 26.6667 26.6667 25.3235 26.6667 23.6667V23C26.6667 21.3431 25.3235 20 23.6667 20H23C21.3431 20 20 21.3431 20 23V23.6667ZM3.33333 23.6667C3.33333 25.3235 4.67648 26.6667 6.33333 26.6667H7C8.65686 26.6667 10 25.3235 10 23.6667V23C10 21.3431 8.65685 20 7 20H6.33333C4.67648 20 3.33333 21.3431 3.33333 23V23.6667Z" 
                                fill="#3A3B3C"/>
                            </svg>
                            <div className={styles.activeBar}></div>
                        </NavLink>
                    </li>
                </>
            )}
            <li>
                <NavLink className={link => (link.isActive ? `${styles.link} ${styles.active}` : styles.link)} to='/about'>
                    Sobre
                    <svg xmlns="http://www.w3.org/2000/svg" width="29" height="30" viewBox="0 0 29 30" fill="none">
                        <path d="M20.4761 26.8421H21.8371V21.3158H20.4761V26.8421ZM21.1566 19.8735C21.342 19.8836 21.5018 19.8173 21.6359 19.6746C21.77 19.5319 21.8371 19.3654 21.8371 19.1751C21.8371 18.9849 21.7686 18.8209 21.6316 18.6832C21.4947 18.5456 21.3349 18.4768 21.1524 18.4768C20.9698 18.4768 20.8114 18.546 20.6773 18.6843C20.5432 18.8227 20.4761 18.9841 20.4761 19.1686C20.4761 19.3531 20.5442 19.5167 20.6802 19.6594C20.8163 19.8022 20.9751 19.8735 21.1566 19.8735ZM21.1566 29.757C19.2355 29.757 17.6014 29.0657 16.2542 27.6832C14.9071 26.3006 14.2335 24.6235 14.2335 22.6518C14.2335 20.6802 14.9071 19.0031 16.2542 17.6205C17.6014 16.2379 19.2355 15.5466 21.1566 15.5466C23.0777 15.5466 24.7118 16.2379 26.0589 17.6205C27.406 19.0031 28.0796 20.6802 28.0796 22.6518C28.0796 24.6235 27.406 26.3006 26.0589 27.6832C24.7118 29.0657 23.0777 29.757 21.1566 29.757ZM14.7661 9.47363H21.6892L14.7661 2.36839V9.47363ZM3.70101 30C2.93621 30 2.2815 29.7205 1.73689 29.1615C1.19224 28.6026 0.919922 27.9307 0.919922 27.1457V2.85427C0.919922 2.06935 1.19224 1.39741 1.73689 0.838464C2.2815 0.279489 2.93621 0 3.70101 0H15.92L23.9968 8.28942V12.498C23.5234 12.3502 23.0525 12.2444 22.5841 12.1807C22.1157 12.1169 21.6398 12.085 21.1566 12.085C19.6852 12.085 18.307 12.3806 17.022 12.9717C15.7369 13.5628 14.627 14.3705 13.6921 15.3948H6.68917V17.7631H12.0471C11.7375 18.3644 11.486 18.9965 11.2927 19.6594C11.0994 20.3224 10.9791 21.0061 10.9317 21.7106H6.68917V24.0789H10.958C11.12 25.1822 11.4406 26.2419 11.9199 27.2581C12.3992 28.2743 13.0225 29.1882 13.7897 30H3.70101Z" 
                        fill="#3A3B3C"/>
                    </svg>
                    <div className={styles.activeBar}></div>
                </NavLink>
            </li>
        </ul>
        {!user ? (
            <>
                <div className={styles.authenticationNav}>
                    <NavLink className={styles.link} to='/login'>Entrar</NavLink>
                    <NavLink className={styles.link} to='/register' style={{ color: '#FF6B00' }}>Registrar</NavLink>
                </div>
            </>
        ) : (
            <>
                <div>
                    <span><img src='src/assets/userIcon.svg' ></img></span>
                    <span className={styles.link} onClick={logout} style={{ color: '#FF6B00' }}>Sair</span>
                </div>
            </>
        )}
    </nav>
  )
}

export default Navbar